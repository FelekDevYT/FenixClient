package net.felsstudio.fenix.module.EXPLOIT;

import net.felsstudio.fenix.Client;
import net.felsstudio.fenix.ExampleMod;
import net.felsstudio.fenix.module.Module;
import net.felsstudio.fenix.utils.ChatUtils;
import net.minecraft.client.Minecraft;
import net.minecraft.crash.CrashReport;
import org.lwjgl.input.Keyboard;
import org.lwjgl.opengl.Display;
import net.felsstudio.clickgui.Setting;

public class Panic extends Module {
    public static boolean isPanic = false;

    public Panic(){
        super("Panic", Keyboard.KEY_INSERT, Category.EXPLOIT);

        ExampleMod.instance.settingsManager.rSetting(new Setting("Exit", this, false));
    }

    @Override
    public void onEnable() {
        ChatUtils.sendMessage("Starting panic...");
        boolean isExit = ExampleMod.instance.settingsManager.getSettingByName(this.name, "Exit").getValBoolean();

        if(isExit){
            Minecraft.getMinecraft().crashed(new CrashReport("PANIC", null));
        }

        isPanic = true;
        for(Module m : Client.modules){
            if(m != this){
                m.setToggled(false);
            }
        }

        Display.setTitle("Minecraft 1.12.2");
    }

    @Override
    public void onDisable() {
        isPanic = false;
        Display.setTitle(Client.name);
    }
}
